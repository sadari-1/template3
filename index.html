<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    

</head>
<body>
    <h1><center>Employee Data File</center></h1>
    <div class="employpage"> 
        <div class=
        "formdata">
          
        <form onsubmit="event.preventDefault();" autocomplete="off">
            <table>
      
            <tr><td><label>Name</label><td>
            <input type="text" class="empname" value=""  placeholder="Employee Name"></tr>
            
      
            <tr><td><label>Designation</label><td>
            <input type="text" class="designation" value=""  placeholder="Employee Designation"></tr>
            
      
            <tr><td><label>Mobile</label><td>
            <input type="text" class="mobile" value=""  placeholder="Employee Mobile"></tr>
            
      
            <tr><td><label>Salary</label><td>
            <input type="text" class="empsalary" value="" placeholder="Employee Salary"></tr>
            <br>
      
            
            <tr><td><label style="font-style: italic;">Click here</label><td><input type="submit"  value="Submit"  class="button"></tr>
            
            
            </table>
          </form>
        
      
        </div>
      
        <br>
        <div class="display_table">
                    <table class="list" id="employeeList">
                          <thead>
                               
                            <tr>
                            <th>Id</th>         
                            <th>Full Name</th>
                            <th>Designation</th>
                            <th>Mobile</th>
                            <th>Salary</th>                      
                            <th>Edit</th>
                        </tr>
                          </thead>
                          <tbody>
      
                          </tbody>
                      </table>
        </div>
      </div>
      
      <script>

        var selectedRow = null;
        var btn = document.querySelector(".button")
        btn.addEventListener("click", employdata);
        
        
        function employdata(){
          var ax = read_Input_Value();
          if (selectedRow == null){
            create_Tr_Td(ax);
            remove_input_value()
          }
          else{   
            updatefunc(ax); 
            remove_input_value(); 
            selectedRow = null;
          }
        
        }
        
        function read_Input_Value(){
          var redemp={} 
          redemp["ename"] = document.querySelector(".empname").value;
          redemp["des"] = document.querySelector(".designation").value;
          redemp["mob"] = document.querySelector(".mobile").value;
          redemp["salary"] = document.querySelector(".empsalary").value;
          return redemp
        }
        function create_Tr_Td(x){
          var empTable = document.querySelector(".list");
          var emp_tr = empTable.insertRow(empTable.length);
          var emp_td1 = emp_tr.insertCell(0);
          var emp_td2 = emp_tr.insertCell(1);
          var emp_td3 = emp_tr.insertCell(2);
          var emp_td4 = emp_tr.insertCell(3);
          var emp_td5 = emp_tr.insertCell(4);
          var emp_td6 = emp_tr.insertCell(5);
          var totalRowCount = document.querySelector(".list tr").length;
          emp_td1.innerHTML = empTable.rows.length-1;
        
          emp_td2.innerHTML = x.ename;   
            emp_td3.innerHTML = x.des;
            emp_td4.innerHTML = x.mob;
          emp_td5.innerHTML = x.salary;
          
          emp_td6.innerHTML = '<button class="edt" onClick="onEdit(this)">Edit</button>  / <button class="dlt" onClick="onDelete(this)">Delete</button>';
        }
        
        function remove_input_value(){
          document.querySelector(".empname").value= " ";
          document.querySelector(".designation").value= " ";
          document.querySelector(".mobile").value= " ";
          document.querySelector(".empsalary").value= " ";  
        }
        
        function onEdit(y){
          console.log(y);
        
          //var selecteventbtn = document.querySelector("a.edt");
            selectedRow = y.parentElement.parentElement;
            //document.querySelector(".empid").value = selectedRow.cells[0].innerHTML;
            document.querySelector(".empname").value = selectedRow.cells[1].innerHTML;
            document.querySelector(".designation").value = selectedRow.cells[2].innerHTML;
             document.querySelector(".mobile").value = selectedRow.cells[3].innerHTML;
            document.querySelector(".empsalary").value = selectedRow.cells[4].innerHTML;
        }
        
        function updatefunc(redemp){
          selectedRow.cells[1].innerHTML = redemp.ename;
          selectedRow.cells[2].innerHTML = redemp.des;
          selectedRow.cells[3].innerHTML = redemp.mob;
          selectedRow.cells[4].innerHTML = redemp.salary;
          
        }
        
        
        function onDelete() {
            if (confirm('Are you sure to delete this record ?')) {
                var selectdelete = document.querySelector("a.dlt");
                selectdelete = selectdelete.parentElement.parentElement.remove(0);
            }
        }
        
        
        </script>
</body>
</html>